
# BulTrans â€“ Bulgarian Invoice Converter ğŸ‡§ğŸ‡¬

A FastAPI-based service that converts English PDF invoices into legally-compliant Bulgarian Word (.docx) invoices using a supplier database and currency exchange from BNB.bg.

---

## âœ… Features

- Extracts and translates customer name, ID, VAT, address, city
- Differentiates supplier from customer using logic and keywords
- Parses total amount and VAT (even from various formats)
- Translates totals into Bulgarian words
- Uses BNB.bg exchange rate with fallback if unavailable
- Outputs a ready-to-sign Bulgarian Word invoice (.docx)

---

## ğŸ“¦ Requirements

```bash
pip install -r requirements.txt
```

---

## ğŸš€ Run Locally

```bash
uvicorn main:app --reload
```

---

## ğŸ“¬ API Endpoint

### `POST /process-invoice/`

**Form Data:**
- `supplier_id` (int): Must match `SupplierCompanyID` from `suppliers.xlsx`
- `file`: English invoice in PDF
- `template`: Bulgarian Word invoice template (.docx)

**Example cURL**

```bash
curl -X POST http://localhost:8000/process-invoice/ \
  -F "supplier_id=206232541" \
  -F "file=@Invoice.pdf" \
  -F "template=@templates/BulTrans_Template_Final.docx"
```

---

### `GET /download-invoice/{filename}`

Download the generated invoice file:

```bash
https://your-domain.com/download-invoice/bulgarian_invoice_0000000002.docx
```

---

## ğŸ§¾ Files

- `main.py`: FastAPI routes
- `process.py`: Core invoice logic
- `suppliers.xlsx`: Supplier data (IBAN, VAT, contact)
- `templates/`: Contains your Word template
- `README.md`: This file ğŸ˜Š

---

Made with â¤ï¸ in Bulgaria ğŸ‡§ğŸ‡¬
